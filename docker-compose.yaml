version: '3.8'
services:
  enforcer:
    image: 'local/enforcer_grpc:latest'
    environment:
      ENVIRONMENT: 'development'
      SERVICE: 'enforcer'
      PROJECT_ID: 'unset'
      TRACING_ENABLED: 'false'
      TRACING_SAMPLER_MODE: never
      METRICS_ENABLED: 'false'
      GRPC_PORT: '9000'

  gateway:
    image: 'gateway:latest'
    depends_on: ['redis']
    environment:
      PROXY_SECRET: MkaOJHbvA8gSylgvLdJaUMCn0Ul9oetmrFKwHSkG5MNPCdECpdQjrJe1qEEl064
      REDIS_ADDR: 'redis:6379'

  redis:
    image: 'redis:latest'
